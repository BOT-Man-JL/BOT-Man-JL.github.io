<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width">
    <title class="aboutTitleSec">Loading...</title>
    <link rel="stylesheet" href="/stylesheets/github-markdown.css">
    <link rel="stylesheet" href="/stylesheets/bot-frame.css">
</head>
<body>
    <div class="qrCodeSec"></div>
    <div class="wrapper">
        <header>
            <nav class="navSec"></nav>
            <div class="contactSec"></div>
        </header>
        <section class="markdown-body">
            <div class="promptSec"></div>
            <div class="langSec"></div>
            <div class="aboutSec"></div>
        </section>
        <footer class="footerSec"></footer>
    </div>
    <script src="/javascripts/marked.js"></script>
    <script src="/javascripts/bot-frame.js"></script>
    <script>
        RenderSectionWithPrompt("/assets.md", "promptSec",
            [
                "navSec",
                "footerSec",
                "contactSec",
                { tagName: "aboutTitleSec", isMd: false }
            ]);

        // Retrieve language (en/zh)
        var lang = GetSearchParam(location.search, "lang");
        if (lang == null) lang = "en";

        RenderSectionWithPrompt("about-" + lang + ".md", "promptSec",
            [
                "aboutSec",
                "langSec",
                "qrCodeSec"
            ]);

        // Styles
        var stylesStr = GetSearchParam(location.search, "style");
        var isWordMargin = false;
        ParseStyles(stylesStr, function (styleStr) {
            if (styleStr == "word") isWordMargin = true;
        });

        var styleElem = document.createElement('style');
        if (isWordMargin)
            styleElem.innerHTML += "@page { margin: 25.4mm 31.8mm; }";
        else
            styleElem.innerHTML += "@page { margin: 18mm 18mm; }";
        document.head.appendChild(styleElem);
    </script>
</body>
</html>
